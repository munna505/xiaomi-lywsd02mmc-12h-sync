Xiaomi LYWSD02 12-Hour Sync üï∞Ô∏èA lightweight macOS background automation to sync the Xiaomi Mijia Bluetooth Clock (LYWSD02) and force it into a 12-hour display format using a dynamic timezone offset "dodge."üìñ The ProblemThe Xiaomi LYWSD02MMC is a beautiful e-ink clock, but it natively only supports a 24-hour military time format (e.g., it shows 13:00 instead of 01:00). There is no official toggle in the Mi Home app to change this for the original model although Xiaomi‚Äôs website says it has 12-hour format.he problem is that there are two slightly different versions with the exact same model number. One doesn‚Äôt support the 12-hour format, so you likely ordered it without knowing and are now stuck with the 24-hour format, which might not be what you prefer.üí° The "Dodge" LogicThis script performs a Hybrid Sync. It sends the exact current time from your Mac but intentionally "lies" to the clock about the timezone offset based on the time of day:Morning Block (1:00 AM - 12:59 PM): Syncs normally using a +6 offset (e.g., Bangladesh Standard Time). The clock shows 10:00.Afternoon Block (1:00 PM - 12:59 AM): Syncs using a -6 offset. The clock calculates UTC Time + (-6) and displays 01:00 instead of 13:00.üõ†Ô∏è FeaturesDeep Scan (60s): Patiently scans to wake up low-energy (BLE) sensors from their sleep cycle.macOS Native: Uses launchd for 0% idle CPU usage.Locked-Screen Support: Works while your Mac is locked (as long as the machine is awake).Auto-Catchup: If your Mac is off during a scheduled trigger, it will sync immediately upon wake-up.üöÄ Installation (macOS)1. Clone & Setup Environmentgit clone https://github.com/munna505/xiaomi-lywsd02mmc-12h-sync
cd xiaomi-lywsd02-12h-sync
python3 -m venv venv
source venv/bin/activate
pip install bleak
2. Configure the AutomationOpen com.munna.clock_sync.plist.Replace the placeholder paths with the absolute path to your project folder (e.g., /Users/YOUR_NAME/projects/...).Move the file to your LaunchAgents folder:cp com.munna.clock_sync.plist ~/Library/LaunchAgents/
3. Load & Fast TestYou don't need to wait for 1:00 PM to see if it works. Load it and "kick" it manually:# Load the service
launchctl load ~/Library/LaunchAgents/com.munna.clock_sync.plist

# Test instantly (Forces a sync right now)
launchctl kickstart -k gui/$(id -u)/com.munna.clock_sync
üìä Monitoring & LogsThe script maintains a detailed history in your project folder:Python Log: tail -f clock_debug.log (Detailed success/fail timestamps).System Errors: cat system_errors.log (Troubleshooting if Python fails to start).üêß Windows & Linux SupportThe core clock_sync.py is cross-platform.Windows: Use Task Scheduler to run python.exe with the script path. Ensure "Run only when user is logged on" is checked for Bluetooth radio access.Linux: Use a systemd timer. Ensure your user is in the bluetooth group (sudo usermod -aG bluetooth $USER).üë§ AuthorMunnaGitHub: @munna505Feel free to star this repo if it helped you fix your clock!